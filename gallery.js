
const images = [
	"https://images-fe.ssl-images-amazon.com/images/G/09/AmazonMusic/2023/Marketing/Fan_Rewards_IkimonoGakari/030411-FR-Ikimonogakari-ENG-GW-DC-379x304._SY304_CB594077030_.jpg",
	"https://m.media-amazon.com/images/I/71YEXN-HfvL._AC_SY200_.jpg",
	"https://m.media-amazon.com/images/I/51uwZ6KmrnL._AC_SY200_.jpg",
	"https://images-fe.ssl-images-amazon.com/images/G/09/AmazonMusic/2023/Marketing/Fan_Rewards_IkimonoGakari/030411-FR-Ikimonogakari-ENG-GW-DC-379x304._SY304_CB594077030_.jpg",
	"https://m.media-amazon.com/images/I/71YEXN-HfvL._AC_SY200_.jpg",
	"https://m.media-amazon.com/images/I/51uwZ6KmrnL._AC_SY200_.jpg",
	"https://images-fe.ssl-images-amazon.com/images/G/09/AmazonMusic/2023/Marketing/Fan_Rewards_IkimonoGakari/030411-FR-Ikimonogakari-ENG-GW-DC-379x304._SY304_CB594077030_.jpg",
	"https://m.media-amazon.com/images/I/71YEXN-HfvL._AC_SY200_.jpg",
	"https://m.media-amazon.com/images/I/51uwZ6KmrnL._AC_SY200_.jpg",
	"https://images-fe.ssl-images-amazon.com/images/G/09/AmazonMusic/2023/Marketing/Fan_Rewards_IkimonoGakari/030411-FR-Ikimonogakari-ENG-GW-DC-379x304._SY304_CB594077030_.jpg",
	"https://m.media-amazon.com/images/I/71YEXN-HfvL._AC_SY200_.jpg",
	"https://m.media-amazon.com/images/I/51uwZ6KmrnL._AC_SY200_.jpg",
	"https://images-fe.ssl-images-amazon.com/images/G/09/AmazonMusic/2023/Marketing/Fan_Rewards_IkimonoGakari/030411-FR-Ikimonogakari-ENG-GW-DC-379x304._SY304_CB594077030_.jpg",
	"https://m.media-amazon.com/images/I/71YEXN-HfvL._AC_SY200_.jpg",
	"https://m.media-amazon.com/images/I/51uwZ6KmrnL._AC_SY200_.jpg",
	"https://images-fe.ssl-images-amazon.com/images/G/09/AmazonMusic/2023/Marketing/Fan_Rewards_IkimonoGakari/030411-FR-Ikimonogakari-ENG-GW-DC-379x304._SY304_CB594077030_.jpg",
	"https://m.media-amazon.com/images/I/71YEXN-HfvL._AC_SY200_.jpg",
	"https://m.media-amazon.com/images/I/51uwZ6KmrnL._AC_SY200_.jpg",
	"https://images-fe.ssl-images-amazon.com/images/G/09/AmazonMusic/2023/Marketing/Fan_Rewards_IkimonoGakari/030411-FR-Ikimonogakari-ENG-GW-DC-379x304._SY304_CB594077030_.jpg",
	"https://m.media-amazon.com/images/I/71YEXN-HfvL._AC_SY200_.jpg",
	"https://m.media-amazon.com/images/I/51uwZ6KmrnL._AC_SY200_.jpg",
	"https://images-fe.ssl-images-amazon.com/images/G/09/AmazonMusic/2023/Marketing/Fan_Rewards_IkimonoGakari/030411-FR-Ikimonogakari-ENG-GW-DC-379x304._SY304_CB594077030_.jpg",
	"https://m.media-amazon.com/images/I/71YEXN-HfvL._AC_SY200_.jpg",
	"https://m.media-amazon.com/images/I/51uwZ6KmrnL._AC_SY200_.jpg",
	"https://images-fe.ssl-images-amazon.com/images/G/09/AmazonMusic/2023/Marketing/Fan_Rewards_IkimonoGakari/030411-FR-Ikimonogakari-ENG-GW-DC-379x304._SY304_CB594077030_.jpg",
	"https://m.media-amazon.com/images/I/71YEXN-HfvL._AC_SY200_.jpg",
	"https://m.media-amazon.com/images/I/51uwZ6KmrnL._AC_SY200_.jpg",
	"https://images-fe.ssl-images-amazon.com/images/G/09/AmazonMusic/2023/Marketing/Fan_Rewards_IkimonoGakari/030411-FR-Ikimonogakari-ENG-GW-DC-379x304._SY304_CB594077030_.jpg",
	"https://m.media-amazon.com/images/I/71YEXN-HfvL._AC_SY200_.jpg",
	"https://m.media-amazon.com/images/I/51uwZ6KmrnL._AC_SY200_.jpg",
	"https://images-fe.ssl-images-amazon.com/images/G/09/AmazonMusic/2023/Marketing/Fan_Rewards_IkimonoGakari/030411-FR-Ikimonogakari-ENG-GW-DC-379x304._SY304_CB594077030_.jpg",
	"https://m.media-amazon.com/images/I/71YEXN-HfvL._AC_SY200_.jpg",
	"https://m.media-amazon.com/images/I/51uwZ6KmrnL._AC_SY200_.jpg",
	"https://images-fe.ssl-images-amazon.com/images/G/09/AmazonMusic/2023/Marketing/Fan_Rewards_IkimonoGakari/030411-FR-Ikimonogakari-ENG-GW-DC-379x304._SY304_CB594077030_.jpg",
	"https://m.media-amazon.com/images/I/71YEXN-HfvL._AC_SY200_.jpg",
	"https://m.media-amazon.com/images/I/51uwZ6KmrnL._AC_SY200_.jpg",
	"https://images-fe.ssl-images-amazon.com/images/G/09/AmazonMusic/2023/Marketing/Fan_Rewards_IkimonoGakari/030411-FR-Ikimonogakari-ENG-GW-DC-379x304._SY304_CB594077030_.jpg",
	"https://m.media-amazon.com/images/I/71YEXN-HfvL._AC_SY200_.jpg",
	"https://m.media-amazon.com/images/I/51uwZ6KmrnL._AC_SY200_.jpg",
	"https://images-fe.ssl-images-amazon.com/images/G/09/AmazonMusic/2023/Marketing/Fan_Rewards_IkimonoGakari/030411-FR-Ikimonogakari-ENG-GW-DC-379x304._SY304_CB594077030_.jpg",
	"https://m.media-amazon.com/images/I/71YEXN-HfvL._AC_SY200_.jpg",
	"https://m.media-amazon.com/images/I/51uwZ6KmrnL._AC_SY200_.jpg",
	"https://images-fe.ssl-images-amazon.com/images/G/09/AmazonMusic/2023/Marketing/Fan_Rewards_IkimonoGakari/030411-FR-Ikimonogakari-ENG-GW-DC-379x304._SY304_CB594077030_.jpg",
	"https://m.media-amazon.com/images/I/71YEXN-HfvL._AC_SY200_.jpg",
	"https://m.media-amazon.com/images/I/51uwZ6KmrnL._AC_SY200_.jpg",
	"https://images-fe.ssl-images-amazon.com/images/G/09/AmazonMusic/2023/Marketing/Fan_Rewards_IkimonoGakari/030411-FR-Ikimonogakari-ENG-GW-DC-379x304._SY304_CB594077030_.jpg",
	"https://m.media-amazon.com/images/I/71YEXN-HfvL._AC_SY200_.jpg",
	"https://m.media-amazon.com/images/I/51uwZ6KmrnL._AC_SY200_.jpg",
	"https://images-fe.ssl-images-amazon.com/images/G/09/AmazonMusic/2023/Marketing/Fan_Rewards_IkimonoGakari/030411-FR-Ikimonogakari-ENG-GW-DC-379x304._SY304_CB594077030_.jpg",
	"https://m.media-amazon.com/images/I/71YEXN-HfvL._AC_SY200_.jpg",
	"https://m.media-amazon.com/images/I/51uwZ6KmrnL._AC_SY200_.jpg",
	"https://images-fe.ssl-images-amazon.com/images/G/09/AmazonMusic/2023/Marketing/Fan_Rewards_IkimonoGakari/030411-FR-Ikimonogakari-ENG-GW-DC-379x304._SY304_CB594077030_.jpg",
	"https://m.media-amazon.com/images/I/71YEXN-HfvL._AC_SY200_.jpg",
	"https://m.media-amazon.com/images/I/51uwZ6KmrnL._AC_SY200_.jpg",
	"https://images-fe.ssl-images-amazon.com/images/G/09/AmazonMusic/2023/Marketing/Fan_Rewards_IkimonoGakari/030411-FR-Ikimonogakari-ENG-GW-DC-379x304._SY304_CB594077030_.jpg",
	"https://m.media-amazon.com/images/I/71YEXN-HfvL._AC_SY200_.jpg",
	"https://m.media-amazon.com/images/I/51uwZ6KmrnL._AC_SY200_.jpg",
	"https://images-fe.ssl-images-amazon.com/images/G/09/AmazonMusic/2023/Marketing/Fan_Rewards_IkimonoGakari/030411-FR-Ikimonogakari-ENG-GW-DC-379x304._SY304_CB594077030_.jpg",
	"https://m.media-amazon.com/images/I/71YEXN-HfvL._AC_SY200_.jpg",
	"https://m.media-amazon.com/images/I/51uwZ6KmrnL._AC_SY200_.jpg",
	"https://images-fe.ssl-images-amazon.com/images/G/09/AmazonMusic/2023/Marketing/Fan_Rewards_IkimonoGakari/030411-FR-Ikimonogakari-ENG-GW-DC-379x304._SY304_CB594077030_.jpg",
	"https://m.media-amazon.com/images/I/71YEXN-HfvL._AC_SY200_.jpg",
	"https://m.media-amazon.com/images/I/51uwZ6KmrnL._AC_SY200_.jpg",
	"https://images-fe.ssl-images-amazon.com/images/G/09/AmazonMusic/2023/Marketing/Fan_Rewards_IkimonoGakari/030411-FR-Ikimonogakari-ENG-GW-DC-379x304._SY304_CB594077030_.jpg",
	"https://m.media-amazon.com/images/I/71YEXN-HfvL._AC_SY200_.jpg",
	"https://m.media-amazon.com/images/I/51uwZ6KmrnL._AC_SY200_.jpg",
	"https://images-fe.ssl-images-amazon.com/images/G/09/AmazonMusic/2023/Marketing/Fan_Rewards_IkimonoGakari/030411-FR-Ikimonogakari-ENG-GW-DC-379x304._SY304_CB594077030_.jpg",
	"https://m.media-amazon.com/images/I/71YEXN-HfvL._AC_SY200_.jpg",
	"https://m.media-amazon.com/images/I/51uwZ6KmrnL._AC_SY200_.jpg",
	"https://images-fe.ssl-images-amazon.com/images/G/09/AmazonMusic/2023/Marketing/Fan_Rewards_IkimonoGakari/030411-FR-Ikimonogakari-ENG-GW-DC-379x304._SY304_CB594077030_.jpg",
	"https://m.media-amazon.com/images/I/71YEXN-HfvL._AC_SY200_.jpg",
	"https://m.media-amazon.com/images/I/51uwZ6KmrnL._AC_SY200_.jpg"
];

let currentIndex = 0;

function displayNextImages() {
	const imagesField = document.getElementById("imagesField");
	const nextButton = document.getElementById("nextButton");
	const limit = Math.min(currentIndex + 10, images.length);

	for (; currentIndex < limit; currentIndex++) {
		const imageWrapper = document.createElement("div");
		imageWrapper.classList.add("imageWrapper");

		const imageCanvas = document.createElement("canvas");
		const ctx = imageCanvas.getContext("2d");
		const img = new Image();

		img.onload = function () {
			const aspectRatio = img.width / img.height;
			const width = document.getElementById("width").value;
			const height = document.getElementById("height").value;
			imageCanvas.width = width;
			imageCanvas.height = height;
			ctx.drawImage(img, 0, 0, width, aspectRatio * height);
		};

		img.src = images[currentIndex];
		imageWrapper.appendChild(document.createTextNode(`${currentIndex + 1}.`));
		imageWrapper.appendChild(imageCanvas);

		const checkbox = document.createElement("input");
		checkbox.type = "checkbox";
		checkbox.onchange = function (event) {
			event.stopPropagation();
			if (checkbox.checked) {
				imageCanvas.toBlob(function (blob) {
					console.log(blob);
				});
			}
		};

		const label = document.createElement("label");
		label.appendChild(checkbox);
		label.appendChild(document.createTextNode("この画像を出力する"));
		label.onclick = function (event) {
			event.stopPropagation();
		};

		imageWrapper.appendChild(document.createElement("br"));
		imageWrapper.appendChild(label);

		const link = document.createElement("a");
		link.href = images[currentIndex];
		link.target = "_blank";
		link.textContent = "元画像を表示";
		imageWrapper.appendChild(document.createElement("br"));
		imageWrapper.appendChild(link);

		imagesField.appendChild(imageWrapper);
	}

	if (currentIndex >= images.length) {
		nextButton.style.display = "none";
	} else {
		const remainingImages = images.length - currentIndex;
		nextButton.textContent = `次の${remainingImages >= 10 ? "10" : remainingImages}件を表示`;
	}
}

document.addEventListener("DOMContentLoaded", function () {
	document.getElementById("imageCount").textContent = `このページで取得できた画像は${images.length}件です。`;
	displayNextImages();
});
